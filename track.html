
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CC代購｜個人訂單查詢</title>
  <style>
    body { font-family: sans-serif; background: #f9f9f9; margin: 0; }
    header { display: flex; justify-content: space-between; align-items: center;
      background: white; padding: 10px 16px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);}
    .logo { font-weight: bold; font-size: 20px; flex: 1; text-align: center; }
    .menu-toggle { font-size: 24px; background: none; border: none; cursor: pointer; }
    #mobile-nav { display: none; flex-direction: column; background: white; width: 100%;
      position: absolute; top: 60px; left: 0; border-top: 1px solid #eee; }
    #mobile-nav a { padding: 15px; border-bottom: 1px solid #eee; text-decoration: none; color: #333; }
    #mobile-nav.show { display: flex; }
    main { padding: 20px; max-width: 900px; margin: auto; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
    th { background: #eee; }
    .filter { margin-bottom: 10px; }
    .hidden { display: none; }
    input, select, button { padding: 8px; margin-top: 6px; width: 100%; }
  </style>
</head>
<body>
<header>
  <button class="menu-toggle" onclick="toggleMenu()">☰</button>
  <div class="logo">CC代購</div>
</header>
<nav id="mobile-nav">
  <a href="index.html">首頁</a>
  <a href="services.html">服務介紹</a>
  <a href="search.html">代購進度</a>
  <a href="track.html" class="active">個人訂單查詢</a>
  <a href="contact.html">聯絡我們</a>
  <a href="login.html">後台管理</a>
</nav>

<main>
  <div id="login-form">
    <h2>登入以查詢您的訂單</h2>
    <label>帳號</label>
    <input type="text" id="username" />
    <label>密碼</label>
    <input type="password" id="password" />
    <button onclick="mockLogin()">登入</button>
  </div>

  <div id="order-area" class="hidden">
    <h2>我的訂單</h2>
    <label class="filter">篩選狀態：
      <select id="statusFilter" onchange="filterOrders()">
        <option value="">全部</option>
        <option value="待發貨">待發貨</option>
        <option value="運送中">運送中</option>
        <option value="可排發">可排發</option>
        <option value="已完成">已完成</option>
        <option value="異常">異常</option>
      </select>
    </label>
    <label class="filter">排序：
      <select id="sortOrder" onchange="filterOrders()">
        <option value="new">時間由新到舊</option>
        <option value="old">時間由舊到新</option>
      </select>
    </label>
    <table id="orders-table">
      <thead>
        <tr><th>日期</th><th>名稱</th><th>網站</th><th>狀態</th><th>物流單號</th></tr>
      </thead>
      <tbody id="orders-body">
        <!-- JS 插入資料 -->
      </tbody>
    </table>
  </div>
</main>

<script>
function toggleMenu() {
  document.getElementById("mobile-nav").classList.toggle("show");
}

// 模擬登入用戶
function mockLogin() {
  const user = document.getElementById("username").value;
  const pass = document.getElementById("password").value;
  if (user && pass) {
    document.getElementById("login-form").classList.add("hidden");
    document.getElementById("order-area").classList.remove("hidden");
    loadOrders();
  } else {
    alert("請輸入帳號與密碼");
  }
}

const allOrders = [
  { date: "2025/04/01", name: "透明壓克力", site: "bilibili", status: "運送中", tracking: "JP12345678" },
  { date: "2025/03/22", name: "抱枕", site: "booth.pm", status: "待發貨", tracking: "" },
  { date: "2025/03/10", name: "徽章組", site: "京東", status: "已完成", tracking: "TW552233" },
  { date: "2025/03/05", name: "紙膠帶", site: "アニメイト", status: "可排發", tracking: "" },
  { date: "2025/02/25", name: "未明小包", site: "bilibili", status: "異常", tracking: "" },
];

function loadOrders() {
  const tbody = document.getElementById("orders-body");
  tbody.innerHTML = "";
  const sorted = [...allOrders];
  const sortOrder = document.getElementById("sortOrder").value;
  sorted.sort((a, b) => sortOrder === "new"
    ? new Date(b.date) - new Date(a.date)
    : new Date(a.date) - new Date(b.date));
  const filter = document.getElementById("statusFilter").value;
  const filtered = filter ? sorted.filter(o => o.status === filter) : sorted;
  for (const o of filtered) {
    tbody.innerHTML += `<tr>
      <td>${o.date}</td><td>${o.name}</td><td>${o.site}</td><td>${o.status}</td><td>${o.tracking || "-"}</td>
    </tr>`;
  }
}
</script>
</body>
</html>
